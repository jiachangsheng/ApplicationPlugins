(function(a){a.arrayDiff=function(a,b){var f=[];a.forEach(function(a){-1===b.indexOf(a)&&f.push(a)});b.forEach(function(b){-1===a.indexOf(b)&&f.push(b)});return f};a.arrayPartialDiff=function(a,b){var f=[];a.forEach(function(a){-1===b.indexOf(a)&&f.push(a)});return f};a.arrayIntersection=function(a,b){var f=[];a.forEach(function(a){-1!==b.indexOf(a)&&f.push(a)});return f};a.arrayUnique=function(a){var b=[];a.forEach(function(a){-1===b.indexOf(a)&&b.push(a)});return b};a.arrayDupes=function(a){var b=
[],f=[];a.forEach(function(a){-1===b.indexOf(a)?b.push(a):f.push(a)});return f};a.cloneObject=function(c){var b,f,g={};for(b in c)c.hasOwnProperty(b)&&(f=c[b],g[b]=Array.isArray(f)?f.slice(0):f&&"object"===typeof f?a.cloneObject(f):f);return g};a.toQueryString=function(a){var b,f=[];for(b in a)a.hasOwnProperty(b)&&(a[b]||0===a[b])&&f.push([b+"="+a[b]]);return f.length?"?"+f.join("&"):""};a.getFileExtension=function(){var a=/.([\w_\-\+~#]+)$/;return function(b){b=(b||"").toLowerCase();return a.test(b)?
b.match(a)[1]:""}}();a.pluck=function(a,b){return a.map(function(a){return a[b]})};a.fn.pluck=function(c){return a.map(this,function(a){return a.getAttribute(c)})};if(!"".capitalize)String.prototype.capitalize=function(){return this.replace(/\b[a-z]/g,function(a){return a.toLocaleUpperCase()})};RegExp.escape=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};var i=this.TaskManager=function(){var a={};return{getTask:function(b){return a[b]},taskExists:function(b){return!!a[b]},register:function(b){i.taskExists(b.name)&&
i.remove(b.name);a[b.name]=b},run:function(b,f){var g=a[b];if(g)return g.callback_fn.call(g,g.data||f)},runAll:function(b,f){Object.keys(a).forEach(function(g){if((g=a[g])&&(!b||g.namespace===b))g.callback_fn&&g.callback_fn.call(g,g.data||f)})},remove:function(b){var f=a[b];if(f&&(delete a[b],f.cleanup_fn))return f.cleanup_fn.call(f,f.data)},killAll:function(b){Object.keys(a).forEach(function(f){var g=a[f];if(g&&(!b||g.namespace===b))delete a[f],g.cleanup_fn&&g.cleanup_fn.call(g,g.data)})}}}(),j=
function(a,b){this.period=b||15E3;this.options=a;var f=a.cleanup_fn||function(){};this.options.cleanup_fn=function(a){this.instance.stop();f(a)};a.instance=this;i.taskExists(this.options.name)&&i.remove(this.options.name);this.schedule()};a.extend(j.prototype,{schedule:function(c){if(c)this.period=c;this.stop();this.timer_id=setTimeout(a.proxy(this.run,this),this.period);i.taskExists(this.options.name)||i.register(this.options)},stop:function(){if(this.timer_id)clearTimeout(this.timer_id),this.timer_id=
null},run:function(){this.stop();i.run(this.options.name);this.options.auto_reschedule&&this.schedule()},destroy:function(){this.stop();i.remove(this.options.name)}});a.extend(i,{schedule:function(a,b){return new j(a,b)},reschedule:function(a,b){if(i.taskExists(a)){var f=i.getTask(a);f.instance instanceof j&&f.instance.schedule(b)}},taskIsScheduled:function(a){if(i.taskExists(a))return a=i.getTask(a),a.instance instanceof j&&!a.timer_id},pause:function(a){i.taskExists(a)&&(a=i.getTask(a),a.instance instanceof
j&&a.instance.stop())}});(function(){var c={},b,f=this.HistoryManager={onRouteChange:null,init:function(){a.history?(f.size=window.location.hash?-1:0,a.history.init(f.handleHash,{unescape:",/&=?"})):a.history={load:function(a){window.location.href=a}}},addRoute:function(a,e){c[a]=e},setDefault:function(a){b=a},handleHash:function(a){var e,l={};a&&(a=a.split("?"),e=a[0],1<a.length&&a[1].split("&").forEach(function(a){a=a.split("=");l[a[0]]=a[1]}));f.onRouteChange&&f.onRouteChange();if(c[e])c[e](l,
e);else b&&b(l,e);f.size++},back:function(){0>=f.size?b&&b():(f.size--,history.back())},load:function(){a.history.load.apply(this,arguments)}}})();this.PropertyBag=function(){var c={};this.add=function(b,f){c[b]?a.extend(c[b],f):c[b]=f};this.remove=function(a){c[a]&&delete c[a]};this.length=function(){return Object.keys(c).length};this.removeProperty=function(a,f){c[a]&&void 0!==c[a][f]&&(delete c[a][f],Object.keys(c[a]).length||delete c[a])};this.get=function(a){return c[a]};this.getAll=function(){return c};
this.empty=function(){c={}}}})(jQuery);
(function(a){var i=this.GlobalResources?GlobalResources.constants:{};a.fn.toggler=function(e){var l=a(this).hide(),d=l.is(":checked"),h=a("<div/>",{"class":"toggler "+(d?"on":"off"),role:"checkbox",tabindex:0,"aria-checked":d?"true":"false"}),b=a("<div/>",{"class":"greything"}).appendTo(h);d&&b.css({left:32});h.bind({click:function(){l[0].checked=d=!l[0].checked;b.animate({left:d?32:0},100,function(){e.onChange&&e.onChange.call(h,d)});h.toggleClass("on off").attr({"aria-checked":d?"true":"false"})},
keydown:function(d){(13===d.keyCode||32===d.keyCode)&&a(this).trigger("click")}});l.replaceWith(h).appendTo(h);return l};a.fn.overlayText=function(){return a(this).not('[data-overlay-text-enabled="true"]').each(function(e,l){var d=a(this),h=this.getAttribute("data-overlay-text"),b=(h?a("<label/>",{text:h}):a('label[for="'+this.getAttribute("id")+'"]')).addClass("overlay_text"),c=d.val(),k=parseInt(d.css("padding-top"),10),h=parseInt(d.css("padding-bottom"),10),f=parseInt(d.css("padding-left"),10),
i=function(){return!/[^\s]+/.test(d.val())},g={hide:function(){b.hide();i()||d.trigger("valuechange::content")},show:function(a){a=a||{};c="";d.val("").addClass("empty").trigger("valuechange::empty");a.focus?d.focus():(a=d.position(),b.css({left:a.left+f,top:a.top+k}),b.show());return d},check:function(){var a=d.val();c!==a&&(c=a,i()?d.addClass("empty").trigger("valuechange::empty"):d.removeClass("empty").trigger("valuechange::content"))}};this.setAttribute("data-overlay-text-enabled","true");b.insertBefore(d).css({lineHeight:"textarea"===
l.tagName.toLowerCase()?null:d.outerHeight()-k-h+"px",maxWidth:d.innerWidth(),maxHeight:Math.max(d.innerHeight(),parseInt(d.css("line-height"),10)),overflow:"hidden"}).click(function(){d.focus()});d.bind({"focus keydown":g.hide,"keypress keyup click change":g.check,drop:function(){g.hide();g.check()},blur:function(){i()&&g.show()}});d.data({reset:g.show,val:function(a){d.val(a);i()?(b.show(),d.addClass("empty")):(b.hide(),d.removeClass("empty"))}});g[i()?"show":"hide"]()})};a.fn.autoGrow=function(){return a(this).each(function(){var e=
a(this),l=e.height(),d;e.data("orig_height",l).css({minHeight:l}).addClass("autogrow").bind("keydown keypress keyup change blur",function(){var a=e.height();null==d&&(d=e.innerHeight()==e[0].scrollHeight||e.innerHeight()==e[0].scrollHeight+1?e[0].scrollHeight-e.height():0);e.height("auto").height(e[0].scrollHeight-d);e.height()!==a&&e.trigger("autogrow::resize")})})};a.fn.limitLength=function(){var e=function(a){var d=parseInt(this.getAttribute("maxlength"),10)||256;if(this.value.length>d)this.value=
this.value.substring(0,d),a.preventDefault()};return a(this).bind({keypress:e,keyup:e,blur:e,keydown:function(a){this.value.length===(parseInt(this.getAttribute("maxlength"),10)||256)&&32<a.which&&a.preventDefault()}})};a.fn.autoselect=function(){return a(this).bind("focus click mouseup",function(a){this.select();a.preventDefault();a.stopPropagation()})};var j=this.Tooltip=function(){var e,b,d,h={init:function(){e=document.getElementById("jq-ads-tooltip")?a(document.getElementById("jq-ads-tooltip")):
h.createElement();b=e.find(".jq-ads-tooltip-content")},createElement:function(){var d=a("<div/>",{"class":"tooltip",id:"jq-ads-tooltip"}).html('<span class="pointer"></span><div class="jq-ads-tooltip-content"></div>').appendTo(document.body);d.bind({"mouseenter.interactive":function(){d.data("interactive-timer")&&(clearTimeout(d.data("interactive-timer")),d.removeData("interactive-timer"))},"mouseleave.interactive":function(){j.forceHide()},click:function(a){a.stopPropagation()}});return d},onHide:function(){var a=
e.data("options");a&&a.onHide&&a.onHide.call(e.data("relative"),e.find(".jq-ads-tooltip-content").children());e.removeData("options")},reposition:function(a){e.position({my:a+" top",at:a+" bottom",of:this,offset:"0 5",collision:"none"})},setTimer:function(a){d&&clearTimeout(d);d=setTimeout(a,750)},killTimer:function(){d&&(clearTimeout(d),d=null)}};a(document.body).bind("click.tooltip",function(){j.forceHide()});a(document).bind("keydown.tooltip",function(a){27===a.keyCode&&j.forceHide()});return{captureTargets:function(d,
c){d=d.not(".has_tooltip");d.length&&(c=a.extend({},{position:"left",interactive:!1},c),d.each(function(){var d=a(this),m=this.getAttribute("data-tooltip-contents")?a(this.getAttribute("data-tooltip-contents")):this.getAttribute("data-tooltip")||this.getAttribute("title"),f=this.getAttribute("data-tooltip-position")||c.position;null==m||0===m.length||"string"===typeof m&&!/[^\s]+/.test(m)||(this.removeAttribute("title"),m instanceof jQuery?m.data("parent",m.parent()):this.getAttribute("data-tooltip")&&
(m=null),d.addClass("has_tooltip").bind({mouseenter:function(){h.setTimer(function(){if(d.is(":visible")&&!d.hasClass("ui-custom-active")){h.init();var a=b.children();a.length&&a.data("parent")&&a.appendTo(a.data("parent"));b.empty().append(m||d.attr("data-tooltip"));c.beforeShow&&c.beforeShow.call(d,m||b);e.stop(!0,!0).removeClass("left right").addClass(f).fadeIn(120,function(){c.onShow&&c.onShow()});e.data("relative",d);e.data("options",c);h.reposition.call(d,f)}})},mouseleave:function(){h.init();
h.killTimer();c.interactive?e.data("interactive-timer",setTimeout(function(){e.stop(!0,!0).fadeOut(120,h.onHide)},50)):e.stop(!0,!0).fadeOut(120,h.onHide)}}))}))},forceHide:function(a){h.init();a&&h.killTimer();e.stop(!0,!0).fadeOut(0,h.onHide)},reposition:function(){e&&e.is(":visible")&&h.reposition.call(e.data("relative"),e.hasClass("left")?"left":"right")}}}();this.PopupMessage={create:function(e,b){var b=a.extend({},{position:"left",closeButton:!0},b),d=b.targets||a(e.attr("data-targets"));if(d.length){var h=
b.type||e.attr("data-type"),c=b.title||e.attr("data-title"),f=b.position||e.attr("data-message-position"),k=a("<div/>",{"class":"jq-ads-popup-message"+(c?" with_title":"")+(h?" "+h:"")}).html('<span class="pointer"></span><div class="jq-ads-message-content"><div class="body"></div></div>'),i=k.find(".jq-ads-message-content"),g=function(){k.stop(!0,!0).fadeOut(100,function(){b.onHide&&b.onHide()})};c&&(i.prepend(a("<header>"+c+"</header>")),k.addClass("with_title"));b.closeButton&&(i.append(a('<span class="close"></span>')),
i.find(".close").bind("click",g));d.each(function(){var d=a(this);if(!(void 0===e||0===e.length||"string"===typeof e&&!/[^\s]+/.test(e))){"string"!==typeof e&&e.data("parent",e.parent());var h={"popup::open":function(a,h){h&&e.attr("id")!=h||(b.beforeShow&&b.beforeShow(),k.appendTo(b.attach_global?document.body:d.offsetParent()),i.find(".body").append(e),k.stop(!0,!0).removeClass("left right").addClass(f).fadeIn(100,function(){b.onShow&&b.onShow(e,d)}),k.position({my:f+" top",at:f+" bottom",of:d,
collision:"none",offset:"0 12"}),a.stopPropagation())}};b.eventOpen&&(h[b.eventOpen]=h["popup::open"]);h["popup::close"]=function(a){g();a.stopPropagation()};b.eventClose&&(h[b.eventClose]=h["popup::close"]);d.bind(h);("true"===(e.attr("data-autoshow")||"").toLowerCase()||b.autoshow)&&d.trigger("popup::open",[e.attr("id")])}})}}};this.TimeUtils=function(){var a=!0,b={toReadableTime:function(d){var b=a&&11<d.getHours(),c=a?d.getHours()%12||12:d.getHours(),d=d.getMinutes()+"";return c+":"+(1===d.length?
"0":"")+d+(a?" "+(b?i.post_meridiem:i.ante_meridiem):"")}};return{set12HourClock:function(d){a=d},relativize:function(a){var e=new Date,c=e.getTime(),f=e.getFullYear(),k=(new Date(f,e.getMonth(),e.getDate())).getTime(),g=k-864E5,q=i.months_short.split(",");a.each(function(a,d){var e=new Date(parseInt(d.getAttribute("datetime"),10)),h=d.getAttribute("data-exact"),j=e.getTime(),n=c-j,w=e.getFullYear(),x=w===f,p="";for(h||j<g?p=Mustache.to_html(x?i.datetime_format:i.datetime_format_with_year,{time:b.toReadableTime(e),
month:q[e.getMonth()],day:e.getDate(),year:w}):12E4>=n?p=i.moments_ago:3E6>=n?p=Mustache.to_html(i.minutes_ago,{minutes:Math.ceil(n/6E4)}):54E5>=n?p=i.about_an_hour_ago:j>=k?p=Mustache.to_html(i.hours_ago,{hours:Math.ceil(n/36E5)}):j>=g&&(p=Mustache.to_html(i.yesterday_at,{time:b.toReadableTime(e)}));d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(p))})}}}();var c=this.FlashMessage=function(e){this.options=e||{};var b=this,d,h,c={reposition:function(){d.css({top:-d.outerHeight(),
marginLeft:-d.outerWidth()/2})},init:function(e){d=a("#flash_message").length?a("#flash_message"):a("<div/>",{id:"flash_message"}).appendTo(document.body);d.data("flash")&&d.data("flash").detach();d.data("flash",b);d.html(e||b.options.text).shorten();b.options.type&&d.addClass(b.options.type);b.options.icon&&b.options.icon.parent()!=d&&b.options.icon.prependTo(d);b.options.off_button&&(a("<div/>",{id:"off_button_div"}).appendTo(d),a("#off_button_div").on("click",function(){b.hide()}));c.reposition()},
detach:function(){c.clearTimer();b.options.icon&&b.options.icon.detach();b.options.type&&d.removeClass(b.options.type);d.empty();d.removeData("flash")},clearTimer:function(){h&&(clearTimeout(h),h=null)}};this.toElement=function(){return d};this.show=function(a){c.init(a);if(this.options.onShow)this.options.onShow();d.stop(!0).animate({top:-3},1);this.options.autohide&&(c.clearTimer(),h=setTimeout(this.hide,e.hideTime||6E3))};this.hide=function(){if(b.options.onHide)b.options.onHide();c.clearTimer();
d.stop(!0).animate({top:-d.outerHeight()},133,c.detach)};this.detach=c.detach};this.GlobalSpinner=function(){var a,l,d,h={init:function(){a=new b({yoffset:-16});l=new c({text:i.spinner_loading,icon:a.toElement(),type:"global_spinner",onShow:a.start,onHide:a.stop})}};return{show:function(a){l||h.init();if(!l.toElement()||!l.toElement().data("flash"))d=!0,l.show(a)},hide:function(){l&&l.toElement().hasClass("global_spinner")&&d&&l.hide();d=!1}}}();this.Fling=function(e){var b,d=null,h=0,c=1,f={piece_size:40,
pixel_speed:150,interval:20,yoffset:0,autorun:!1,onComplete:function(){}},e=e||{},k;for(k in f)f.hasOwnProperty(k)&&(e[k]=e[k]||f[k]);c=e.pixel_speed/(1E3/e.interval);b=e.element;h=b.width()+e.piece_size;b.css({backgroundPosition:h+" "+e.yoffset+"px",width:e.size,height:e.size}).addClass(e.spinner_class);var g=function(){h-=c;h<=-e.piece_size&&(this.stop(),e.onComplete.call(this,e));b.css({backgroundPosition:h+"px "+e.yoffset+"px"})};this.start=function(c){d||(h=(c||b.width())+e.piece_size,d=setInterval(a.proxy(g,
this),e.interval));return d};this.stop=function(){d&&(clearInterval(d),d=null)};this.toElement=function(){return b};this.toString=function(){return d};e.autorun&&this.start()};var b=this.Spinner=function(e){var b=null,d=null,h=0,c={frames:12,size:16,yoffset:0,interval:60,autorun:!1,parent:document.body,element:null,spinner_class:"spinner"},e=e||{},f;for(f in c)c.hasOwnProperty(f)&&(e[f]=e[f]||c[f]);b=e.element?a(e.element):a("<div/>").appendTo(e.parent);b.css({backgroundPosition:"0 "+e.yoffset+"px",
width:e.size,height:e.size}).addClass(e.spinner_class);var k=function(){h=(h+1)%e.frames;b.css({backgroundPosition:"-"+h*e.size+"px "+e.yoffset+"px"})};this.start=function(){d||(d=setInterval(k,e.interval));return d};this.stop=function(){d&&(clearInterval(d),d=null)};this.toElement=function(){return b};this.toString=function(){return d};e.autorun&&this.start()};a.fn.spinner=function(e){var e=e||{},c=a(this),d,h,f;"string"===typeof e?c.each(function(b,c){d=a(c);if((h=d.data("spinner"))&&"restore"===
e)f=d.data("spinner_options"),h.stop(),f.text?(d.removeClass("spinned"),h.toElement().parent().remove()):(d.removeClass("with_spinner"),h.toElement().remove()),d.removeData("spinner_options"),d.removeData("spinner")}):c.each(function(c,f){d=a(f);h=new b(e);e.text=e.text||d.attr("data-loading-text");d.data({spinner_options:e,spinner:h});e.text?(h.toElement().prependTo(a("<div/>",{"class":"spinner_container",text:e.text,click:!1}).insertBefore(d)),d.addClass("spinned")):(h.toElement().prependTo(d),
d.addClass("with_spinner"));h.start()});return this};var f=this.ClosableElements=function(){var e=[];a(document).bind("keydown",function(a){27===a.keyCode&&f.close()});return{add:function(b,d,c){b=a.makeArray(b);0===e.length&&b.length&&a(document).click(f.close);b.length&&b.forEach(function(b){-1===e.indexOf(b)&&e.push(b);d&&a(b).bind("closable::close",d);c&&a(b).bind({click:function(a){a&&a.stopPropagation()},contextmenu:function(a){a&&a.preventDefault()}})})},close:function(){return a(e.join(",")).filter(".open").trigger("closable::close").removeClass("open")}}}();
this.ErrorBucket=function(e){var b=new PropertyBag,d=e.find(".error_message");this.getError=function(a){b.get(a)};this.hasErrors=function(){return 0<b.length()};this.addError=function(a,d,e){var c={};c[d]=e;b.add(a,c);this.render()};this.render=function(){var e={},c=b.getAll(),f;for(f in c)c.hasOwnProperty(f)&&a.extend(e,c[f]);var k=[],c=Object.keys(e),g=0;c.length?(c.forEach(function(a){""!==e[a]&&(k[g]=e[a],g++)}),d.html(Mustache.to_html("{{#errorSummary}}<li>{{.}}</li>{{/errorSummary}}",{errorSummary:k})),
d.addClass("visible")):(d.empty(),d.removeClass("visible"))};this.remove=function(a){b.remove(a);this.render()};this.removeError=function(a,d){b.removeProperty(a,d);this.render()};this.empty=function(){b.empty();this.render()}};a.fn.drop_down=function(){var e=this[0],b=e.selectedIndex,d=e.options,c=a(e),g,i,k=a("<span/>",{"class":"selected_element",tabindex:0,role:"button",text:d[b].text,keydown:function(a){if(-1!==[13,32,35,36,38,40].indexOf(a.keyCode)){a.preventDefault();var b=e.selectedIndex,c=
b;switch(a.keyCode){case 35:c=d.length-1;break;case 36:c=0;break;case 38:0<c&&c--;break;case 40:c+1<d.length&&c++;break;case 13:k.trigger("click")}(b!==c||32===a.keyCode)&&i.data("setValue")(e[c].value).trigger("dropdown::change",[e[c].value])}}}).button({icons:{secondary:"ui-icon-menu"}}),j=a("<div/>",{"class":"drop_down click_to_open "+c.attr("class"),role:"listbox",id:"jqdd-"+(new Date).getTime(),click:function(a){a&&a.stopPropagation();j.toggleClass("open").hasClass("open")?(j.attr({"aria-expanded":!0}).trigger("closable::open"),
k.addClass("ui-custom-active")):(j.attr({"aria-expanded":!1}).trigger("closable::close"),k.removeClass("ui-custom-active"))}}).bind("closable::close",function(){k.hasClass("ui-custom-active")&&(j.attr({"aria-expanded":!1}),k.removeClass("ui-custom-active"))}).data({value:d[b].id,setValue:function(a,d){e.value=a;j.data("value",a).find(".selected").removeClass("selected ascending").end().find("li:eq("+e.selectedIndex+")").addClass("selected"+(d?" ascending":""));k.find("span").text(e.options[e.selectedIndex].text);
return j}}).removeClass("convert_to_dropdown").append(k);1<d.length?(g=document.createElement("ul"),i=a(g),i.addClass("popup_menu flat_menu").delegate("li","click",function(){var a=this.getAttribute("data-value");a&&(j.data("setValue")(a),j.trigger("dropdown::change",[a]))}),c.find("option").each(function(d,e){var c=document.createElement("li"),h=document.createElement("span"),f=document.createTextNode(e.text);c.setAttribute("role","option");c.setAttribute("data-value",e.value);h.appendChild(f);c.appendChild(h);
d===b&&a(c).addClass("selected");g.appendChild(c)}),"true"===(e.getAttribute("data-sort-ascending")||"").toLowerCase()&&a(g).find(".selected").addClass("ascending"),j.append(g)):j.addClass("single");j.insertAfter(e);g&&k.css({width:a(g).width()+8});f.add("#"+j.attr("id"));c.hide();return j};a.fn.multiple_drop_down=function(e){var b=this[0],d=b.selectedIndex,c=a(b),g=c.find("option"),i=!1;e?i=!0:(e=a("<span/>",{"class":"selected_element",tabindex:0,role:"button",text:g[d].text,keydown:function(a){if(-1!==
[13,32,35,36,38,40].indexOf(a.keyCode)){a.preventDefault();var d=b.selectedIndex,c=d;switch(a.keyCode){case 35:c=g.length-1;break;case 36:c=0;break;case 38:0<c&&c--;break;case 40:c+1<g.length&&c++;break;case 13:e.trigger("click")}(d!==c||32===a.keyCode)&&(void 0).data("setValue")(b[c].value).trigger("dropdown::change",[b[c].value])}}}).button({icons:{secondary:"ui-icon-menu"}}),e.append('<div style="clear:both;"></div>'));var k=a("<div/>",{"class":"multiple_drop_down click_to_open "+c.attr("class"),
role:"listbox",id:"jqdd-"+(new Date).getTime(),click:function(a){a&&a.stopPropagation();k.toggleClass("open").hasClass("open")?(k.attr({"aria-expanded":!0}).trigger("closable::open"),e.addClass("ui-custom-active")):(k.attr({"aria-expanded":!1}).trigger("closable::close"),e.removeClass("ui-custom-active"))}}).bind("closable::close",function(){e.hasClass("ui-custom-active")&&(k.attr({"aria-expanded":!1}),e.removeClass("ui-custom-active"))}).data({value:g[d].id,setValue:function(a,d){b.value=a;k.data("value",
a).find(".selected").removeClass("selected ascending").end().find("li:eq("+b.selectedIndex+")").addClass("selected"+(d?" ascending":""));i||e.find("span").text(b.options[b.selectedIndex].text);return k}}).removeClass("convert_to_multiple_dropdown").append(e),j=document.createElement("div");$drop_down_container=a(j);$drop_down_container.addClass("columns-container");var q=Math.ceil(g.length/2),s,r,t=document.createElement("ul"),u=document.createElement("ul"),v=a(t),n=a(u);v.add(n).addClass("popup_menu flat_menu").delegate("li",
"click",function(){var a=this.getAttribute("data-value");a&&(k.data("setValue")(a),k.trigger("dropdown::change",[a]))});7<g.length?(s=a(g).slice(0,q),r=a(g).slice(q)):s=a(g);s.each(function(b,e){var c=document.createElement("li"),h=document.createElement("span"),f=document.createTextNode(e.text);c.setAttribute("role","option");c.setAttribute("data-value",e.value);h.appendChild(f);c.appendChild(h);b===d&&a(c).addClass("selected");t.appendChild(c)});$drop_down_container.append(t);7<g.length&&(r.each(function(b,
e){var c=document.createElement("li"),h=document.createElement("span"),f=document.createTextNode(e.text);c.setAttribute("role","option");c.setAttribute("data-value",e.value);h.appendChild(f);c.appendChild(h);b+s.length===d&&a(c).addClass("selected");u.appendChild(c)}),$drop_down_container.append(u));k.append(j);k.insertAfter(b);j=0<v.width()&&0<n.width()?20:10;$drop_down_container.css({width:v.width()+n.width()+j});f.add("#"+k.attr("id"));c.hide();return k};var g=this.Floater={register:function(b){b=
a.extend({},{event:"click",position:"right",toggle_fn:g.toggle,hide_fn:g.hide},b);b.attachHandlers&&b.attachHandlers(b);a(b.listener).delegate(b.toggler,b.event,function(c){b.toggle_fn.call(this,c,b);a(b.element).data("floater-options",b);"contextmenu"===b.event&&c.preventDefault()});a(b.element).data("floater-attached")||(f.add(b.element,null,b.semi_modal),a(b.element).bind({"mousedown.draggable":function(a){a.stopPropagation()},"closable::close":function(){var b=a(this).data("floater-options");
b&&b.hide_fn(b)}}).data("floater-attached",!0))},reposition:function(a,b,d){var c=b instanceof jQuery&&b.is("button")?"none":"fit",d=d||{};switch(d.position){case "left":a.position({my:"left top",at:"left bottom",of:b,collision:c});break;case "cursor-x":d.event.pageY=b.offset().top+b.outerHeight();a.position({my:"left top",at:"left bottom",of:d.event,collision:"fit"});break;case "cursor-xy":a.position({my:"left top",at:"left top",of:d.event,collision:"fit"});break;default:a.position({my:"right top",
at:"right bottom",of:b,collision:c})}},toggle:function(b,c){var d=a(b.currentTarget),h=a(c.element),i=!h.parent().hasClass("templates"),o=i&&h.data("relative")&&0===d.not(h.data("relative")).length;b&&(b.stopPropagation(),j.forceHide(!0),f.close());if(i&&(c.hide_fn(c),o))return!1;d.addClass("ui-custom-active").closest(c.idOwner).addClass("modal");h.addClass("open").data("relative",d).appendTo(d.offsetParent());g.reposition(h,d,{position:c.position,event:b});return h.trigger("closable::open",[b,c])},
hide:function(b){a(b.element).is(":visible")&&(a(b.listener).find(b.toggler).removeClass("ui-custom-active").closest(b.idOwner).removeClass("modal"),a(b.element).find(".hover").removeClass("hover").end().removeData("relative").appendTo(b.templateContainer))}};a.downloadAsync=function(b){var c=a("#downloadAsync_iframe");0==c.length?c=a("<iframe />",{id:"downloadAsync_iframe",style:"display:none;"}):c.remove();c.attr("src",b);c.appendTo(a(document.body))}}).call(window,jQuery);
(function(a){a.confirmationPopup=function(i){var j,i=a.extend({},{buttons:[{label:"OK",default_btn:!0}],loadingText:""},i);j=a(Mustache.to_html('<div id="confirmationPopup" class="overlay_window{{#css_classes}} {{.}}{{/css_classes}}">  <header><h1>{{title}}</h1></header>  <div class="body_container"><div class="body">    <span class="message">{{{message}}}</span>  </div></div>  <div class="controls highlighted">    {{#buttons}}<button type="button" class="{{css_classes}}" data-type="{{label}}">{{label}}</button>{{/buttons}}  </div></div>',
i));j.find("button").button();i.buttons.forEach(function(c){var b=j.find('button[data-type="'+c.label+'"]').button();c.default_btn&&b.addClass("default").focus();c.disabled_btn&&b.attr("disabled","disabled");b.bind("click",function(f){f.preventDefault();if(!c.ignore||!c.ignore())c.callback?(c.default_btn&&i.loadingText&&(j.find("button").not(b).hide(),b.spinner({text:i.loadingText})),c.callback.call(b,function(){b.spinner("restore").hide();a.fancybox.close()})):a.fancybox.close()})});a("#fancybox-content").is(":visible")?
a("#fancybox-content").empty().append(j):(a(document.body).append(j),a.fancybox({width:"auto",height:"auto",scrolling:"no",padding:1,type:"inline",hideOnOverlayClick:!1,content:"#confirmationPopup",onCleanup:function(){j.remove()},onComplete:function(a){i.onComplete&&i.onComplete(a)}}))}}).call(this,jQuery);
(function(){var a=this.ADSK=this.ADSK||{};a.Analytics=function(){return{init:function(){window._gaq&&$.cookie("accounts_guid")&&window._gaq.push(["_setCustomVar",1,"user_id",$.cookie("accounts_guid"),1])},track:function(){if(window._gaq){var i=Array.prototype.slice.apply(arguments),j=jQuery.isArray(i[0])?i.shift():[];j.length&&a.Analytics.setFile.apply(a.Analytics,j);i.unshift("_trackEvent");window._gaq.push(i);j.length&&a.Analytics.setFile.apply(a.Analytics,["",""])}},setFile:function(a,j){a instanceof
jQuery&&(j=a.attr("data-name"),a=a.attr("data-id"));window._gaq.push(["_setCustomVar",2,"item_id",a,3]);window._gaq.push(["_setCustomVar",3,"file_type",$.getFileExtension(j),3])}}}()}).call(window);var OXYGEN_OPTIONS={viewmode:"iframe",viewmode_options:{width:350,height:356},provider:"autodesk",providers_endpoint:{autodesk:"https://accounts-staging.autodesk.com/SignIn"},openid_response:"oxygen_openid_response.html",refresh_response:"oxygen_refresh_response.html"};
(function(){var a=function(d,b){for(var c in b)b.hasOwnProperty(c)&&d.hasOwnProperty(c)?"object"===typeof d[c]&&"object"===typeof b[c]?d[c]=a(d[c],b[c]):d.hasOwnProperty(c)||(d[c]=b[c]):b.hasOwnProperty(c)&&!d.hasOwnProperty(c)&&(d[c]=b[c]);return d},i=function(a){var a=(/\?/.test(a)?a.split("?")[1]:a).split("&"),b={},c,e,f;for(e=0,f=a.length;e<f;e++)c=a[e].split("="),b[c[0]]=decodeURIComponent(c[1]);return b},j=Object.create||function(a){function b(){}b.prototype=a;return new b},c=function(b){for(var b=
a(a({},b),{zIndex:6E4,width:350,height:356,onCreate:function(){},onOpen:function(){},onClose:function(){},overlay:{color:"#000",opacity:0.4},container:{shadow:"0 2px 8px rgba(0,0,0,0.5)",backgroundColor:"#fff",padding:10},close_button:{size:24,image:'url("resources/close_24.png")'}}),c={setStyles:function(){jQuery(f).css({position:"absolute",left:0,top:0,width:"100%",zIndex:b.zIndex,backgroundColor:b.overlay.color,opacity:0});jQuery(k).css({position:"absolute",top:0,left:0,zIndex:b.zIndex+6,padding:b.container.padding,
backgroundColor:b.container.backgroundColor,mozBoxShadow:b.container.shadow,webkitBoxShadow:b.container.shadow,boxShadow:b.container.shadow,opacity:0});jQuery(g).css({position:"absolute",top:-b.close_button.size/2.75,right:-b.close_button.size/2.75,width:b.close_button.size,height:b.close_button.size,zIndex:b.zIndex+8,backgroundImage:b.close_button.image,cursor:"pointer"})},resizeOverlay:function(){f.style.height=0;f.style.height=Math.max(jQuery(k).height()+42,jQuery(document).height())+"px"},resizeTo:function(a,
e){a?(b.width=a.width,b.height=a.height):a={width:b.width,height:b.height};var f=e&&a&&(b.width!=a.width||b.height!=a.height),g,j;"auto"===a.width?(k.style.display="block",k.style.width="auto",i.style.width="auto",g=jQuery(i).width(),e=f=!1):g=a.width;"auto"===a.height?(k.style.display="block",k.style.height="auto",i.style.height="auto",j=jQuery(i).height(),e=f=!1):j=a.height;if(f)i.style.display="none";e&&jQuery([k,i]).stop(!0,!0);!1!==a.autoscale&&!l.MOBILE_FRIENDLY&&(j=Math.min(j,jQuery(window).height()-
42));jQuery(k)[e?"animate":"css"]({left:"50%",top:"50%",width:g,height:j,marginTop:Math.max(-j/2-b.container.padding,(-jQuery(window).height()+24)/2)+jQuery(window).scrollTop(),marginLeft:Math.max(-g/2-b.container.padding,(-jQuery(window).width()+24)/2)},{duration:300,complete:c.resizeOverlay});jQuery(i)[e?"animate":"css"]({width:g,height:j},{duration:300,complete:function(){i.style.display=""}});c.resizeOverlay();setTimeout(c.resizeOverlay,50)},keydown:function(a){27===a.keyCode&&this.close()},show:function(){jQuery(f).stop(!0,
!0).fadeTo(300,b.overlay.opacity,function(){b.onOpen();jQuery(document).trigger("oxygen::open")});jQuery(k).fadeTo(300,1)},hide:function(){jQuery(f).stop(!0,!0).fadeTo(300,0,function(){jQuery(this).hide();b.onClose();jQuery(document).trigger("oxygen::close")});jQuery(k).stop(!0,!0).fadeTo(300,0,function(){jQuery(this).hide()})}},e=!1,f=document.getElementById("oxygen-overlay")||document.createElement("div"),k=document.getElementById("oxygen-container")||document.createElement("div"),g=document.getElementById("oxygen-closebtn")||
document.createElement("div"),i=b.content,j=0,r=k.children.length;j<r;j++)k.removeChild(k.children[0]);k.appendChild(g);i&&k.appendChild(i);this.open=function(a,j){var l=this;a&&(i&&i.parentNode&&k.removeChild(i),i=a,k.appendChild(i));document.getElementById("oxygen-overlay")?jQuery(k).is(":visible")||c.setStyles():(f.setAttribute("id","oxygen-overlay"),k.setAttribute("id","oxygen-container"),k.setAttribute("role","dialog"),k.setAttribute("tabindex","-1"),g.setAttribute("id","oxygen-closebtn"),g.setAttribute("role",
"button"),c.setStyles(),e||(jQuery(g).bind("click",function(){l.close.call(l)}),jQuery(k).bind("mousewheel",function(a){a.stopPropagation();a.preventDefault()}),e=!0),document.body.appendChild(f),document.body.appendChild(k));jQuery(window).unbind("resize.oxygen");jQuery(document).unbind("keydown.oxygen");jQuery(f).unbind("click.oxygen");jQuery(window).bind("resize.oxygen",function(){c.resizeTo.call(l,b)});jQuery(document).bind("keydown.oxygen",function(a){c.keydown.call(l,a)});b.hideOnOverlayClick&&
jQuery(f).bind("click.oxygen",function(){l.close.call(l)});c.resizeTo(j||b,!!j,!1);try{k.focus()}catch(n){}b.onCreate();jQuery(document).trigger("oxygen::create");c.show();return this};this.close=function(){c.hide()};this.resizeTo=function(a,b){c.resizeTo(a,b)};this.toString=function(){return"OxygenOverlay"}},b=function(b){b=a(b||{},OXYGEN_OPTIONS.viewmode_options);if(b.href)this.iframe=e(b.href,b.onLoadComplete);b.content=b.content||this.iframe;var f=b.onClose,g=this;b.onClose=function(){f&&f.call(g,
arguments);if(g.iframe)g.iframe.parentNode.removeChild(g.iframe),g.iframe=null};c.call(this,b);var i=this.open;this.open=function(a,c){this.iframe?(this.setURL(a),i.call(g,void 0,c)):(this.iframe=e(a,b.onLoadComplete),i.call(this,this.iframe,c))};this.setURL=function(a){this.iframe.setAttribute("src",a)};this.toString=function(){return"OxygenOverlayIframe"}};b.prototype=j(c.prototype);var f=function(a){var b=this,e=document.createElement("div");c.call(this,a);var f=this.open;this.open=function(a,
c){e.innerHTML="";e.appendChild(a.cloneNode(!0));f.call(b,e,c)};this.toString=function(){return"OxygenOverlayInline"}};f.prototype=j(c.prototype);var g=function(b){var c,b=a(b||{},{width:350,height:356});this.open=function(a){try{c.location.href=a}catch(e){c=window.open(a,"OxygenPopup","width="+b.width+",height="+b.height),jQuery(c).bind("load",b.onLoadComplete)}};this.close=function(){c.close();c=null};this.resizeTo=function(a){try{c&&c.resizeTo(a.width,a.height)}catch(b){}};this.toString=function(){return"OxygenPopup"}},
e=function(a,b){var c=document.createElement("iframe");c.setAttribute("frameBorder","0");c.setAttribute("hspace","0");c.setAttribute("scrolling","no");c.setAttribute("src",a);c.setAttribute("allowtransparency","true");b&&jQuery(c).bind("load",b);c.style.border="none";return c},l=this.Oxygen=function(){var c,h=OXYGEN_OPTIONS,j=window.location.href.split("/").slice(0,-1).join("/")+"/",o={init:function(e){if(!c)switch(e=e||{},h.viewmode){case "iframe":c=new b(a(e,h.viewmode_options));break;case "popup":c=
new g(a({},h.viewmode_options));break;case "inline":c=new f(a({},h.viewmode_options))}},setOptions:function(b){c&&b.hasOwnProperty("viewmode")&&b.viewmode!==h.viewmode&&(c.close(),c=null);h=a(b,h);return this},getBaseOpenIDProviderURL:function(a,b){var c=h.providers_endpoint[a]+"?openid.ns="+encodeURIComponent("http://specs.openid.net/auth/2.0")+"&openid.claimed_id="+encodeURIComponent("http://specs.openid.net/auth/2.0/identifier_select")+"&openid.identity="+encodeURIComponent("http://specs.openid.net/auth/2.0/identifier_select")+
"&openid.return_to="+encodeURIComponent(j+h.openid_response)+"&openid.realm="+encodeURIComponent(j+h.openid_response)+"&openid.ns.ax="+encodeURIComponent("http://openid.net/srv/ax/1.0")+"&openid.ax.required=name&openid.ax.mode=fetch_request&openid.ax.type.name="+encodeURIComponent("http://axschema.org/namePerson")+"&openid.ax.count.name=1";return c=b?c+"&openid.mode=checkid_immediate":c+("&openid.mode=checkid_setup&openid.ns.alias5="+encodeURIComponent("http://specs.openid.net/extensions/ui/1.0")+
"&openid.alias5.mode="+encodeURIComponent(h.viewmode)+"&openid.alias5.iframe_refresh_url="+encodeURIComponent(j+h.refresh_response))},receiveMessage:function(a){/(autodesk\.com)$/.test(a.origin)&&/^iframe\-resize::(\d+),(\d+)/.test(a.data)&&(a=a.data.match(/^iframe\-resize::(\d+),(\d+)/))&&l.resizeTo({width:a[1],height:a[2]},!1)}};window.addEventListener&&window.addEventListener("message",o.receiveMessage,!1);return{setOptions:o.setOptions,show:function(a,b,e){if(b&&b!==h.viewmode)c=null,h.viewmode=
b;o.init(a&&{href:a});h.viewmode_options.onLoadStart&&h.viewmode_options.onLoadStart();c.open(a||o.getBaseOpenIDProviderURL(h.provider,!1),e)},hide:function(){c&&c.close()},resizeTo:function(a,b){c&&c.resizeTo(a,b)},checkImmediate:function(){h.onCheckImmediate&&h.onCheckImmediate();var a=e(o.getBaseOpenIDProviderURL(h.provider,!0));a.style.display="none";document.body.appendChild(a)},processOpenIDResponse:function(a){h.onOpenIDResponse&&h.onOpenIDResponse(i(a));c&&c.close()},processOpenIDRefreshResponse:function(a){a=
i(a);a.page?l.show(a.page,void 0,{width:a.width,height:a.height}):l.resizeTo({width:a.width,height:a.height},!0)},toString:function(){return"Oxygen"}}}();if(window.Modernizr&&Modernizr.mq&&(Modernizr.mq("handheld")||Modernizr.mq("screen and (max-device-width: 480px)")||Modernizr.mq("only screen and (-webkit-min-device-pixel-ratio: 2)")||Modernizr.mq("only screen and (max-device-width: 1024px)")))l.MOBILE_FRIENDLY=!0}).call(this);
(function(a){Oxygen.setOptions({viewmode_options:{close_button:{image:'url("/content/images/buttons/close_24.png")'}},onOpenIDResponse:function(a){window.location.href=a||"/"}});this.NitrousLogin={handleIframeReturn:function(a){Oxygen.hide();window.location.href=a||"/"},handleIframeRefresh:Oxygen.processOpenIDRefreshResponse};a(document.body).delegate(".signin_linkOauth2",{click:function(){location.href=a(this).attr("data-href")},keydown:function(i){(13===i.keyCode||32===i.keyCode)&&a(this).trigger("click")}});
a(document.body).delegate(".signin_link",{click:function(){Oxygen.show(a(this).attr("data-href"),"iframe",{width:350,height:356})},keydown:function(i){(13===i.keyCode||32===i.keyCode)&&a(this).trigger("click")}})}).call(window,window.jQuery);
$(document).ready(function(){$(".text_v").hide();$(".textv_1").hide();$(".text1").hide();$(".textv1").hide();$("li").hover(function(a){if(0==a.currentTarget.className.indexOf("list_card"))a=a.currentTarget.id,$("#"+a+" .text1").show(),$("#"+a+" .text2").show(),$("#"+a+" .viewApp_").show()},function(a){if(0==a.currentTarget.className.indexOf("list_card"))a=a.currentTarget.id,$("#"+a+" .text1").hide(),$("#"+a+" .text2").hide(),$("#"+a+" .viewApp_").hide()});$("li").hover(function(a){if(0==a.currentTarget.className.indexOf("carousel"))a=
a.currentTarget.id,$("#"+a+" .textv1").show(),$("#"+a+" .textv2").show(),$("#"+a+" .textv3").show()},function(a){if(0==a.currentTarget.className.indexOf("carousel"))a=a.currentTarget.id,$("#"+a+" .textv1").hide(),$("#"+a+" .textv2").hide(),$("#"+a+" .textv3").hide()});$("li").hover(function(a){if(0==a.currentTarget.className.indexOf("card"))a=a.currentTarget.id,$("#"+a+" .textv_1").show(),$("#"+a+" .textv_2").show(),$("#"+a+" .textv_3").show()},function(a){if(0==a.currentTarget.className.indexOf("card"))a=
a.currentTarget.id,$("#"+a+" .textv_1").hide(),$("#"+a+" .textv_2").hide(),$("#"+a+" .textv_3").hide()});$("li").hover(function(a){if(0==a.currentTarget.className.indexOf("detail_"))a=a.currentTarget.id,$("#"+a+" .text_v").show(),$("#"+a+" .text_").show(),$("#"+a+" .view_v").show()},function(a){if(0==a.currentTarget.className.indexOf("detail_"))a=a.currentTarget.id,$("#"+a+" .text_v").hide(),$("#"+a+" .text_").hide(),$("#"+a+" .view_v").hide()})});
(function(){this.Appstore=this.Appstore||function(){$(document).ajaxError(function(a,b,f,g){var e;f.url.match(/(.+?)\?.*/);switch(b.status){case 0:"timeout"==g&&(new FlashMessage({autohide:!0,hideTime:8E3,type:"error",text:GlobalResources.constants.internalServerErrorDescription})).show();break;case 403:window.location.reload();break;default:try{e=JSON.parse(b.responseText),"Modal"!==e.Show&&"Flash"===e.Show&&(new FlashMessage({autohide:!0,hideTime:8E3,type:"error",text:e.Description})).show()}catch(i){switch(b.status){case 503:j.showMaintenancePage(b.responseText)}}}});
var a={setMainHeight:function(a){var b=!a?0:!a.data?0:a.data.counter_measure;$("#header, #neck, #footer").each(function(){b+=$(this).outerHeight()});a=$(window).height()-b;-1!=navigator.userAgent.indexOf("Firefox")&&(a+=80);$("#main").css("min-height",a)},changeLogoUrl:function(){$(document).ready(function(){var a=$("a#first-neck").attr("href");$(".branding").attr("href",a)})},setMaxlength:function(){$(document).ready(function(){$(".length_32").attr("maxlength",32);$(".length_50").attr("maxlength",
50);$(".length_200").attr("maxlength",200);$(".length_1000").attr("maxlength",1E3);$(".length_2000").attr("maxlength",2E3);$(".length_4000").attr("maxlength",4E3)})},badge2html:function(){$(".badge-popup-certification-content-div").each(function(){$(this).children("p").html($(this).children("p").text())})},dataLinkActive:function(a){window.location=a},extendPrototype:function(){Array.prototype.distinct=function(){var a=this.concat();this.concat().sort().sort(function(b,f){b==f&&a.splice(a.indexOf(b),
1)});return a}},initializeGeoFrames:function(){0<$(".ga-image-sliders").length&&setInterval(function(){$(".ga-image-sliders ul").each(function(){var a=$(this),b=a.css("margin-left").replace("px",""),f=a.width(),g=$("li",a).width(),b=b-g;0>=b+f&&(a.css("margin-left","0px"),b=0-g);a.animate({marginLeft:b+"px"},500)})},4E3)},initSearchboxWidth:function(){var a=$(".search-box-store-selector"),b=a.siblings(".nav-search-facade"),f=b.css("width"),g=a.find("option:selected");g.val();g=g.text();b.html(g+"<span class='caret'></span>");
b=b.css("width");f=parseFloat(f)-parseFloat(b);a=a.closest(".search-form-content").children(".nav-fill");b=a.css("width");g=a.css("margin-right");a.css("width",parseFloat(b)+f+"px");a.css("margin-right",parseFloat(g)-f+"px")},initSearchbox:function(){var c=$("#search").css("width");$(".search-suggestions-box-ul").css("width",parseFloat(c)-22+"px");a.initSearchboxWidth();$(".search-box-store-selector").on("change",a.initSearchboxWidth);$(".search-wrapper .search-form-content").focusin(function(){$(this).toggleClass("active")}).focusout(function(){$(this).toggleClass("active")})},
initWidgetCarouselControl:function(){$("#carousel-slider").carousel("cycle");$(".apps-carousel .carousel-slider-widget").on("slide.bs.carousel",function(){$(this).children(".carousel-inner").css("overflow","hidden");$(this).children(".carousel-inner .item").css("overflow","hidden")});$(".apps-carousel .carousel-slider-widget").on("slid.bs.carousel",function(){$(this).children(".carousel-inner").css("overflow","visible");$(this).children(".carousel-inner .item").css("overflow","visible");$(this).closest(".carousel-slider-widget-sub-layout").css({"border-left":"none",
"border-right":"none",background:"transparent"});$(this).carousel("pause")})},initWidgetAppsLayout:function(){},bindSearchWrapper:function(){$("#search-box-store-selector").change(function(){var a=$("#search-form").attr("action"),a=a.substr(1),a=a.substr(a.indexOf("/")),a="/"+$(this).val()+a;$("#search-form").attr("action",a)})},initGAPublicCheck:function(){$(".btn-group .first-a").click(function(){window._gaq&&window._gaq.push(["_trackEvent","StoreSelector","StoreClick",$(this).attr("ga-storeid")])});
$(".btn-group .second-a").click(function(){window._gaq&&window._gaq.push(["_trackEvent","StoreSelector","StoreClick",$(this).attr("ga-storeid")])});$(".btn-group .popover-menu .sub-a").click(function(){window._gaq&&window._gaq.push(["_trackEvent","StoreSelector","CategoryClick",$(this).attr("ga-categoryid")])});$(".widget-element-app-link").click(function(){window._gaq&&window._gaq.push(["_trackEvent","GroupWidget","AppClick",$(this).attr("ga-appname")])});$(".carousel-inner .custom-link-item a").click(function(){window._gaq&&
window._gaq.push(["_trackEvent","Carousel","ImageClick",$(this).attr("ga-imagedata")])});$(".sort-ga-click").click(function(){window._gaq&&window._gaq.push(["_trackEvent","Filter","Sorting",$(this).attr("ga-label")])});$(".btn-ga-click").click(function(){window._gaq&&window._gaq.push(["_trackEvent",$(this).attr("ga-category")?$(this).attr("ga-category"):"",$(this).attr("ga-action")?$(this).attr("ga-action"):"",$(this).attr("ga-label")?$(this).attr("ga-label"):"",isNaN(parseInt($(this).attr("ga-value")))?
0:parseInt($(this).attr("ga-value"))])})},initLanguageSelector:function(){$(".language-changer .lang-selectable").click(function(){var a=window.location.href,b=$(this),f=b.data("language"),b=b.siblings(".hover").data("language");if(void 0!=b&&1<b.length){var g=a.indexOf("List/Search?");-1<g&&(a=a.substr(0,g+12),(g=$("#query-term").attr("data-query"))&&(a=a+"query="+g),(g=$("input[name='isAppSearch']").val())&&(a=a+"&isAppSearch="+g));window.location=-1<a.indexOf("/"+b)?a.replace("/"+b,"/"+f):"/"+
f+window.location.pathname+window.location.search}})}},i={about:function(){$.fancybox({href:GlobalResources.partialviewactions.about.url,type:"ajax",width:500,height:325,scrolling:"no",hideOnOverlayClick:!1,autoDimensions:!1,autoScale:!1,onStart:function(){$("#fancybox-outer, #fancybox-content").addClass("no_border");$("#fancybox-close").addClass("about_close")},onClosed:function(){$("#fancybox-outer, #fancybox-content").removeClass("no_border");$("#fancybox-close").removeClass("about_close")}})},
featuredActive:function(){a.dataLinkActive($(this).attr("data-link"))},bestSellerActive:function(){a.dataLinkActive($(this).attr("data-link"))},goTop:function(){$(window).scroll(function(){var a=0.4*$(window).height();$(document).scrollTop()>a?$("#goTop").fadeIn(500):$("#goTop").fadeOut(500)});$("#goTop").on("click",function(){$(document.documentElement).animate({scrollTop:0},200);$(document.body).animate({scrollTop:0},200)})},intializeUserDropdown:function(){$(".user-panel .drop_down ul").click(function(){this.setAttribute("style",
"visibility: hidden");var a=this;setTimeout(function(){a.removeAttribute("style")},100)})}},j={showMaintenancePage:function(a){var b=$("#maintenance_partial"),f=a&&a.length?a:$("#maintenance_partial").html();if(b.length||a&&a.length)$("#container").empty().append(f),$("body").addClass("landing-view")}};return{init:function(){j.showMaintenancePage();$(window).bind("resize",a.setMainHeight);a.setMainHeight();var c=function(a){a.filter("a").each(function(){var a=encodeURIComponent((this.getAttribute("data-url-redir")||
"")+window.location.href);this.setAttribute("href",(this.getAttribute("data-url-root")||"")+a)})},b=$("#header .user-panel .drop_down a.account_settings_link, #footer li.change_language a.account_settings_link");b.bind({mouseenter:function(){c($(this))},click:function(){$.cookie("profilePicCacheBuster",(1E5*Math.random()).toPrecision(5));return!0}});c(b);$("#query-term").overlayText();$(".user-panel").find('.signin_link[data-autostart="true"]').trigger("click");var b=$("#flash-message-notification").attr("data-flashMessage"),
f=$("#flash-message-notification").attr("data-messageType");b&&(new FlashMessage({autohide:!0,hideTime:8E3,type:f,text:b})).show();$(".show_all").attr("data-href",$("#search-form").attr("action"));$(".show_all").click(function(){window.location=$(this).attr("data-href")});$("#footer").find("li.about").bind("click",i.about);$(".badge-popup-div").bind("click",function(a){a.stopPropagation()});a.changeLogoUrl();a.initializeGeoFrames();a.setMaxlength();$(".language-selector").hide();b=$("#os-selector").val();
$("#"+b).show();a.badge2html();$("#featured-products .product-content-container").on("click",i.featuredActive);$("#bestsellers .container").on("click",i.bestSellerActive);a.extendPrototype();i.goTop();i.intializeUserDropdown();a.initSearchbox();a.initWidgetCarouselControl();a.initWidgetAppsLayout();a.initLanguageSelector();a.initGAPublicCheck()},setCookie:function(a,b,f){var g=new Date;g.setDate(g.getDate()+f);document.cookie=a+"="+escape(b)+";path=/"+(null==f?"":";expires="+g.toGMTString())},queryStringToJSON:function(){var a=
{};location.search.slice(1).split("&").forEach(function(b){b=b.split("=");a[b[0]]=decodeURIComponent(b[1]||"")});return JSON.parse(JSON.stringify(a))},isObjEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},getOwnPropertyNames:function(a){var b=[],f;for(f in a)a.hasOwnProperty(f)&&b.push(f);return b},badge2html:function(){a.badge2html()},htmlEncode:function(a){return void 0==a||""==a?a:$("<div/>").text(a).html()},htmlDecode:function(a){return void 0==a||""==a?a:$("<div/>").html(a).text()},
initHeaderToolBar:function(){a.bindSearchWrapper()},busy:function(){$.fancybox({width:"0",height:"0",scrolling:"no",type:"html",hideOnOverlayClick:!1,showCloseButton:!1,modal:!0,speedIn:0});$.fancybox.showActivity()}}}()}).call(window,jQuery);$(document).ready(function(){});(function(){var a=this.Appstore=this.Appstore||function(){};a.Landing=function(){return{init:function(){a.init();a.initHeaderToolBar();$(".search-type-area").css("display","flex")}}}()}).call(window,jQuery);
(function(a){function i(){var b=a("#search-form #language").val();return b=void 0==b?GlobalResources.language:"/"+b}function j(a){var c=a.val(),g=a.get(0);void 0!=g&&(g.setSelectionRange?(a.focus(),g.setSelectionRange(c.length,c.length)):g.createTextRange&&(a=g.createTextRange(),a.collapse(!0),a.moveEnd("character",c.length),a.moveStart("character",c.length),a.select()))}function c(){"True"==a("#isfancy").val()&&a(".search-type-area").css("display","none");"False"==a("input[name='isAppSearch']").val()&&
(a(".nav-search-scope").css("display","none"),a(".show-all-wrapper").css("display","none"),a(".view-selection").css("display","none"),a(".list-display-option-right").css("margin-right","5px"),a("#query-term").attr({placeholder:a("#search-publishers-placeholder-hint").text()}));a("#search-apps").on("click",function(){a(".nav-search-scope").css("display","inline-block");a(".show-all-wrapper").css("display","inline-block");a(".view-selection").css("display","inline-block");a(".list-display-option-right").css("margin-right",
"0");a("#search-publishers").removeClass("search-type-hightlighted");a("#search-apps").removeClass("search-type-unhightlighted");a("#search-apps").addClass("search-type-hightlighted");a("#query-term").attr({placeholder:a("#search-apps-placeholder-hint").text()});a("#query-term").val("");a("#query-term").focus();a("input[name='isAppSearch']").val("True")});a("#search-publishers").on("click",function(){a(".nav-search-scope").css("display","none");a(".show-all-wrapper").css("display","none");a(".view-selection").css("display",
"none");a(".list-display-option-right").css("margin-right","5px");a("#search-apps").removeClass("search-type-hightlighted");a("#search-publishers").removeClass("search-type-unhightlighted");a("#search-publishers").addClass("search-type-hightlighted");a("#query-term").attr({placeholder:a("#search-publishers-placeholder-hint").text()});a("#query-term").val("");a("#query-term").focus();a("input[name='isAppSearch']").val("False")})}a(document).ready(function(){function b(b){a.ajax({type:"get",data:{query:b},
url:"/List/GetSuggestions",success:function(b){if(null!=b&&null!=b.Suggestions&&a.trim(a("#query-term").val())==b.Query){var c=a("#search-suggestions-box");if(null!=b.Suggestions&&0!=b.Suggestions.length){c.empty();for(var e=0;e<b.Suggestions.length;e++)c.append(" <li>"+b.Suggestions[e].Suggestion+"</li>");c.show()}else c.empty(),c.hide()}},error:function(){a("#search-suggestions-box").hide();a("#search-suggestions-box").empty();console.log("AJAX GET SUGGESTIONS ERROR!")}})}var f,g=a("#query-term");
g&&(j(g),a("#for-cache-search-str").val(g.val()));c();a(document).on("keydown","#query-term",function(b){9==b.keyCode&&(a("#search-suggestions-box").empty(),a("#search-suggestions-box").hide());if(38==b.keyCode||40==b.keyCode)b.cancelBubble=!0,b.returnValue=!1,b.stopPropagation&&(b.stopPropagation(),b.preventDefault())});a("#query-term").keyup(function(c){if(38==c.keyCode||40==c.keyCode||13==c.keyCode){if(!(0>=a("ul#search-suggestions-box li").length)){var g=a("#for-cache-search-str"),d=a("#query-term"),
h=a(".search-suggestions-box-ul > .selected");h.removeClass("selected");38==c.keyCode&&(0==h.length?(g.val(d.val()),a(".search-suggestions-box-ul li").last().addClass("selected")):0==h.prev().length?d.val(g.val()):h.prev().addClass("selected"));40==c.keyCode&&(0==h.length?(g.val(d.val()),a(".search-suggestions-box-ul li:eq(0)").addClass("selected")):0==h.next().length?d.val(g.val()):h.next().addClass("selected"));13==c.keyCode&&(a("#search-suggestions-box").empty(),a("#search-suggestions-box").hide());
c=a(".search-suggestions-box-ul > .selected");0!=c.length&&d.val(c.html())}}else d=a("#search-suggestions-box"),27==c.keyCode?(d.empty(),d.hide()):(c=a.trim(a("#query-term").val()),""==c?(d.empty(),d.hide(),a("#for-cache-search-str").val("")):c!=a("#for-cache-search-str").val()&&(a("#for-cache-search-str").val(c),f&&clearTimeout(f),f=setTimeout(b,200,c)))});a(document).click(function(){var b=a("#search-suggestions-box");b&&(b.empty(),b.hide())});a("#search-suggestions-box").on("click","li",function(){var b=
this.innerText||this.textContent;a("#query-term").val(b);b=a(".dropdown-menu.dropdown-menu-store").attr("currentstore");void 0==b&&(b=a("#search-form #productline").val());b||(b=a("#search-form select").val());var c=a("#search-form"),d;d=void 0;if(!d)d=window.location.href;d=/[\?&]thumbnail=([^&#]*)/.exec(d);(d=!d?null:d[1])&&c.append(a("<input type='hidden' name='thumbnail' value='"+d+"' />"));c.attr("action","/"+b+i()+GlobalResources.partialviewactions.search.url);c.submit()})})})(jQuery);
